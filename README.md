# We唠嗑聊天室

一个基于Flask和Socket.IO开发的实时聊天室应用，支持文字聊天、视频播放和AI助手功能。

## 功能特点

- 🔄 **实时聊天**：基于WebSocket的实时消息传输
- 🧑‍🤝‍🧑 **用户管理**：在线用户列表，用户加入/离开通知
- 🎬 **视频播放**：支持通过`@电影`指令嵌入视频播放器
- 🤖 **AI助手**：内置"川小农"AI助手，可回答四川农业大学相关问题、生成古诗和通知
- 😀 **表情支持**：内置常用表情符号
- 📱 **响应式设计**：适配不同屏幕尺寸

## 快速开始

### 环境要求

- Python 3.6+
- pip 包管理工具

### 安装和运行

1. **克隆或下载项目**

2. **安装依赖**
   ```bash
   pip install -r requirements.txt
   ```

3. **启动服务器**
   ```bash
   python app.py
   ```

4. **访问应用**
   打开浏览器，访问 http://127.0.0.1:5000

## 使用说明

### 基本聊天
1. 输入昵称登录聊天室
2. 在输入框中输入消息，按Enter键或点击"发送"按钮发送
3. 点击表情按钮可选择并插入表情符号

### 视频播放
使用`@电影`指令可以嵌入视频播放器：
```
@电影 https://example.com/video-url.mp4
```

### AI助手 - 川小农
使用`@川小农`指令可以与AI助手交互：

#### 支持的功能：

1. **回答四川农业大学相关问题**
   ```
   @川小农 四川农业大学在哪里？
   @川小农 川农的优势专业有哪些？
   ```

2. **生成七言古诗**
   ```
   @川小农 写一首七言古诗
   @川小农 来首关于校园的古诗
   ```

3. **生成学校通知**
   ```
   @川小农 关于放假的通知
   @川小农 通知主题：会议安排
   ```

#### 注意事项：
- 仅回答与四川农业大学相关的问题
- 询问其他学校信息会礼貌拒绝
- 超出功能范围的问题会回复"一边去"

## 项目结构

```
we_chat_room/
├── app.py                 # 主程序文件
├── config.json            # 配置文件
├── requirements.txt       # 依赖列表
├── export_project.py      # 项目导出工具
├── README.md             # 项目说明文档
├── static/                # 静态资源
│   ├── css/              # 样式文件
│   └── js/               # JavaScript文件
└── templates/            # HTML模板
```

## 配置说明

在`config.json`文件中可以配置服务器地址：

```json
{
  "servers": [
    {
      "name": "本地服务器",
      "url": "http://127.0.0.1:5000"
    },
    {
      "name": "局域网服务器1",
      "url": "http://192.168.1.100:5000"
    }
  ]
}
```

## 项目导出

该项目提供了一个导出工具，可以将项目文件打包成zip文件，方便备份和部署：

1. 运行导出脚本：
   ```bash
   python export_project.py
   ```

2. 导出的zip文件会保存在`exports/`目录下，文件名包含时间戳

## 技术栈

- **后端**：Python Flask + Socket.IO
- **前端**：HTML5 + CSS3 + JavaScript
- **实时通信**：Socket.IO
- **模板引擎**：Jinja2

## 扩展开发

### 添加新功能

1. **添加新的消息类型**：
   - 在`app.py`中修改`handle_message`函数添加新的消息类型识别
   - 在`chat.js`中修改`addMessage`函数添加对应的渲染逻辑

2. **扩展AI助手功能**：
   - 在`chat.js`中修改`generateAIReply`函数添加新的功能模块

### 自定义样式

- 修改`static/css/style.css`文件可以自定义应用的外观样式

## 许可证

本项目采用MIT许可证

## 更新日志

- 支持视频播放功能
- 添加AI助手"川小农"
- 实现项目导出功能
- 优化用户体验和界面设计

## 问题反馈

如有任何问题或建议，欢迎反馈。
